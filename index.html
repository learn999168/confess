<!DOCTYPE html>
<html lang="km">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love Test</title>
    <link rel="icon" href="1734128194421.jpg">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --font-battambang: "Battambang", system-ui;
            --font-dangrek: "Dangrek", sans-serif;
        }
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #fce4ec; /* á–ááŸŒá•áŸ’á€á¶áˆá¼á€áŸáŸ’ášá¶á› */
            font-family: 'Khmer OS Siemreap', sans-serif;
            margin: 0;
            overflow: hidden; /* á˜á·á“á±áŸ’á™ Button ášááŸ‹á…áŸá‰á€áŸ’ášáŸ…á¢áŸá€áŸ’ášá„áŸ‹ */
        }

        h1 {
            text-shadow: -5px 1px 8px #ff5a96;
            color: #d81b60;
            margin-bottom: 20px;
            z-index: 10;
            transition: all 3s ease;
            
        }
        h1:hover {
            cursor: pointer;
            color: rgb(255, 255, 255);
            text-shadow: 5px 1px 8px #ff5a96;
            font-family: var(--font-dangrek);
            transform: scale3d(5);
            transition: all 3s ease;
        }

        .container {
            position: relative;
            text-align: center;
            z-index: 10;
        }

        button {
            padding: 10px 30px;
            font-size: 18px;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease; 
            font-family: inherit;
        }

        /* ášá…á“á¶á”áŸá‘áŸ’á˜ Button Yes */
        #yes-button {
            background-color: #4CAF50;
            color: white;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        #yes-button:hover {
            transform: scale(1.1);
            box-shadow: 0 3px 15px #f1759a;
            filter: blur(3);
        }
        #yes-button:active {
            box-shadow: 0 5px #666;
            transform: translateY(4px);
        }

        /* ášá…á“á¶á”áŸá‘áŸ’á˜ Button No */
        #noBtn {
            background-color: #f44336;
            color: white;
            box-shadow: 0 5px 15px rgba(244, 67, 54, 0.4);
            position: relative; 
        }

        /* á”á“áŸ’ááŸ‚á˜ Canvas áŸá˜áŸ’ášá¶á”áŸ‹ Effect */
        #fireCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <canvas id="fireCanvas"></canvas>
    <div class="container">
        <h1 id="main-text">áŸáŸ’ášá¡á¶á‰áŸ‹ááŸ’á‰á»áŸ†á¢ááŸ‹? â¤ï¸</h1>
        <div class="button-group">
            <button id="yes-button">Yes</button>
            <button id="noBtn">No</button>
        </div>
    </div>

    <!-- á—áŸ’á›áŸá„á€áŸ†áŠáš -->
    <audio id="surprise-music" loop>
        <source src="Yay.mp3" type="audio/mpeg">
    </audio>

    <script>
        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yes-button');
        const mainText = document.getElementById('main-text');
        const audio = document.getElementById('surprise-music');

        // á˜á»áá„á¶ášá’áŸ’áœá¾á±áŸ’á™ Button No ášááŸ‹á‚áŸá…
        noBtn.addEventListener('mouseover', () => {
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
            noBtn.style.position = 'fixed'; 
            noBtn.style.left = `${x}px`;
            noBtn.style.top = `${y}px`;
        });

        // á˜á»áá„á¶ášá“áŸ…á–áŸá›á…á»á…á”áŸŠá¼áá»á„ Yes (á‡á½áŸá‡á»á›á€áŸ†á á»áŸ ReferenceError: btn)
        yesBtn.addEventListener('click', () => {
            // 1. á…á¶á€áŸ‹á—áŸ’á›áŸá„
            audio.play().catch(e => console.log("Audio blocked by browser policy"));

            // 2. á€á¶ášá”á¶á‰áŸ‹á€áŸ’ášáŠá¶áŸ (Confetti Surprise)
            var count = 200;
            var defaults = { origin: { y: 0.7 } };

            function fire(particleRatio, opts) {
                confetti(Object.assign({}, defaults, opts, {
                    particleCount: Math.floor(count * particleRatio)
                }));
            }

            fire(0.25, { spread: 26, startVelocity: 55 });
            fire(0.2, { spread: 60 });
            fire(0.35, { spread: 100, decay: 0.91, scalar: 0.8 });
            fire(0.1, { spread: 120, startVelocity: 25, decay: 0.92, scalar: 1.2 });
            fire(0.1, { spread: 120, startVelocity: 45 });

            // 3. á”áŸ’áá¼ášá¢ááŸ’áá”á‘
            yesBtn.innerText = "á™áŸ! ğŸ‰";
            mainText.innerText = "ááŸ’á‰á»áŸ†á€áŸáŸáŸ’ášá›á¶á‰áŸ‹á¢áŸ’á“á€áŠáŸ‚áš! ğŸ¥°";
            
            // á›á¶á€áŸ‹á”áŸŠá¼áá»á„ No
            noBtn.style.display = 'none';
        });
    </script>
</body>
</html>